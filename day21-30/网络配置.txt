================================
网络配置
================================
一、配置网络IP
Ifconfig可以用来查看网络IP地址，也能用于配置网络ip地址
但是真正要配置网络IP地址，则需要修改网卡设置
网关:翻译节点，将私有IP翻译为公网IP，我们的私网IP则是由网关分配的
子网掩码:通过子网掩码，配置一个局域网中支持的私网IP的个数
A网掩码:255.0.0.0
B网掩码:255.255.0.0
C网掩码:255.255.255.0
【注】掩码实际上是一个32位的2进制数
例如C网掩码:11111111.11111111.11111111.00000000
掩码将我们的IP分为了网络IP和主机IP。对IP(也是一个32位二进制数)和掩码进行与操作，得到的就是网络IP(私网IP的网络IP)
CentOS
8个ip
11111111.11111111.11111111.1111 0000
255.255.255.240


二、查看网络状况
1.ifconfig――查看网络配置
2.hostname命令 关机就会恢复
配置/etc/sysconfig/network
hostnamectl set-hostname 名称
3.route  测试路由器
4.netstat
-l：显示处于监听（listening）状态的网络连接及端口信息
-a：显示所有活动连接（包括监听、非监听状态的服务端口）
-p：显示相关的进程信息
-t:正在执行的tcp链接
-u:正在执行的udp链接
5.ping命令
6.traceroute命令 跟踪数据包的路由途径
7.nslookup命令――测试DNS域名解析

1、在浏览器中输入www . qq .com 域名，操作系统会先检查自己本地的hosts文件是否有这个网址映射关系，如果有，就先调用这个IP地址映射，完成域名解析。

2、如果hosts里没有这个域名的映射，则查找本地DNS解析器缓存，是否有这个网址映射关系，如果有，直接返回，完成域名解析。

3、如果hosts与本地DNS解析器缓存都没有相应的网址映射关系，首先会找TCP/ip参数中设置的首选DNS服务器，在此我们叫它本地DNS服务器，此服务器收到查询时，如果要查询的域名，包含在本地配置区域资源中，则返回解析结果给客户机，完成域名解析，此解析具有权威性。

4、如果要查询的域名，不由本地DNS服务器区域解析，但该服务器已缓存了此网址映射关系，则调用这个IP地址映射，完成域名解析，此解析不具有权威性。

5、如果本地DNS服务器本地区域文件与缓存解析都失效，则根据本地DNS服务器的设置（是否设置转发器）进行查询，如果未用转发模式，本地DNS就把请求发至13台根DNS，根DNS服务器收到请求后会判断这个域名(.com)是谁来授权管理，并会返回一个负责该顶级域名服务器的一个IP。本地DNS服务器收到IP信息后，将会联系负责.com域的这台服务器。这台负责.com域的服务器收到请求后，如果自己无法解析，它就会找一个管理.com域的下一级DNS服务器地址(http://qq.com)给本地DNS服务器。当本地DNS服务器收到这个地址后，就会找http://qq.com域服务器，重复上面的动作，进行查询，直至找到www . qq .com主机。

6、如果用的是转发模式，此DNS服务器就会把请求转发至上一级DNS服务器，由上一级服务器进行解析，上一级服务器如果不能解析，或找根DNS或把转请求转至上上级，以此循环。不管是本地DNS服务器用是是转发，还是根提示，最后都是把结果返回给本地DNS服务器，由此DNS服务器再返回给客户机。
三、开机启动
1.开机启动的配置文件
【注】Linux系统在开机之后，系统会自动执行一些脚本，只要将需要开机启动程序的启动命令，写入这些脚本文件，即能开机启动。
/etc/rcXXX 开机启动
/etc/profile 开机启动
profile写命令一定是根目录执行，除非命令在bin目录下，或者被添加到环境变量

登陆启动文件
~/.profile
~/.bash_profile
~/.bash_rc
2.定时执行
【注】所谓定时执行，就是通过一个守护进程，定时的执行其他进程的指令。
文件/etc/crontable  系统的定时cron文件
指令crontable

/var/spool/cron/crontable/用户名  自定义的cron文件
crontable 脚本文件名 将一个文件内容添加到/var/spool/cron目录下，以用户名命名的文件中
service cron status 查看cron是否在执行，查看到执行的任务
service cron start 启动
service cron stop 关闭
service cron restart 重启


【cron命令】
* * * * *命令
上述命令的*从左至右依次表示
任意分
任意时
任意日
任意月
任意星期
0* * * *命令		每小时执行一次
1* * * *命令		每小时执行一次
* * * * *命令		每分钟执行一次
0-59 * * * *命令		每分钟执行一次
0-59/2 * * * *命令	分为0-59，每两分钟执行一次
0, 17, 32, 40 * * * *命令 	  当分等于这几个值的时候执行一次
0 8,18 * * *命令		  每天执行两次

四、认识系统目录
1.etc系统的配置文件
2.bin 拥有者为root的那些程序
3.sbin 即system bin 有一部分的系统程序在这里
4.dev 设备文件存储
5.lib/lib64 linux系统内核函数
6.mnt 挂载设备，早期包括光盘多媒体设备，现在就只有u盘
7.media 挂在多媒体设备
8.cdrom 挂载cdrom
9.root   root用户的家目录
10.usr 用户安装的程序
11.var 缓存和用户安装的库，数据库
12.home 家目录的父目录 很多的系统 Mac OS X  该目录是 usr目录 或 Users目录
13.sys/proc 系统进程/进程使用的数据
14.lost+found 理论上由于一些故障，丢失的文件，会在这里找到
15.srv 系统服务是在这里的
15.tmp

作业:
1.编写程序，每小时执行一次，每次执行，打印一个随机数，并记录打印的时间。
2.每两小时监控一次，家目录下的目录结构，并写入到日志文件中，同时写入时间，记录家目录下目录结构的改变
3.在上一题的基础上，记录每次开机时间，登陆时间，写入同一个日志
4.*在上一题基础上，
5.加入关机时间，注销时间写入同一个日志。